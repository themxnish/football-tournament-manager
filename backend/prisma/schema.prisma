generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  fullName  String?
  role      String   @default("volunteer")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Team {
  id               String     @id @default(uuid())
  name             String
  category         String
  coach            String
  schedulesAsTeamA Schedule[] @relation("TeamA")
  schedulesAsTeamB Schedule[] @relation("TeamB")
}

model Schedule {
  id          String        @id @default(uuid())
  date        DateTime
  time        String
  pitch       String
  status      Boolean       @default(false)
  category    String
  teamAId     String  
  teamBId     String
  matchRecord MatchRecord[]
  teamA       Team          @relation("TeamA", fields: [teamAId], references: [id])
  teamB       Team          @relation("TeamB", fields: [teamBId], references: [id])
}

model MatchRecord {
  id         String   @id @default(uuid())
  teamAId    String
  teamBId    String
  scoreA     Int      @default(0)
  scoreB     Int      @default(0)
  scorersA   String[]
  scorersB   String[]
  potmA      String?
  potmB      String?
  winner     String?
  scheduleId String
  schedule   Schedule @relation(fields: [scheduleId], references: [id])
}
